
    <div class="wraper-container">
        <div class="search-container">
            <mat-card >
                
                <mat-card-content>

                  <section class="patientinfo">
                    <mat-toolbar>

                        <div style="width:100%;float: right;text-align:right;">
                            <button mat-raised-button color="primary" class="toplink" (click)="gotoList()">Back To List </button>
                            <button mat-raised-button color="warn" class="toplink">Prescription History</button>
                        </div>
                    </mat-toolbar>
                    <div class="container infocontainer" fxLayout="row" fxLayout.xs="column" fxLayoutWrap fxLayoutGap="1.5%" fxLayoutAlign="center">
                        <div  fxFlex="20%">
                            <mat-form-field class="fullwidthinp">
                                <input matInput placeholder="Patient ID" value="{{PatientID}}" [disabled]="true">
                              </mat-form-field>
                        </div>

                        <div  fxFlex="20%">
                            <mat-form-field class="fullwidthinp">
                                <input matInput placeholder="Pres ID" value="001236" [disabled]="true">
                              </mat-form-field>
                        </div>

                        <div  fxFlex="20%">
                            <mat-form-field class="fullwidthinp">
                                <input matInput placeholder="Type" value="{{PatientType}}" [disabled]="true">
                              </mat-form-field>
                        </div>

                        <div  fxFlex="20%">
                            <mat-form-field class="fullwidthinp">
                                <input matInput placeholder="Patient Name" value="{{PatientName}}" [disabled]="true">
                              </mat-form-field>
                        </div>

                        <div  fxFlex="20%">
                            <mat-form-field class="fullwidthinp">
                                <input matInput placeholder="Age" value="{{PatientAge}} yrs." [disabled]="true">
                              </mat-form-field>
                        </div>
                        
                    </div>
                    <div class="container infocontainer" fxLayout="row" fxLayout.xs="column" fxLayoutWrap fxLayoutGap="1.5%" fxLayoutAlign="center">
                        <div  fxFlex="20%">
                            <mat-form-field class="fullwidthinp">
                                <input matInput placeholder="Pulse" value="72" [disabled]="true">
                              </mat-form-field>
                        </div>

                        <div  fxFlex="20%">
                            <mat-form-field class="fullwidthinp">
                                <input matInput placeholder="Temp (F)" value="100.4" [disabled]="true">
                              </mat-form-field>
                        </div>

                        <div  fxFlex="20%">
                            <mat-form-field class="fullwidthinp">
                                <input matInput placeholder="Anaemia " value="14.5" [disabled]="true">
                              </mat-form-field>
                        </div>

                        <div  fxFlex="20%">
                            <mat-form-field class="fullwidthinp">
                                <input matInput placeholder="BP" value="110" [disabled]="true">
                              </mat-form-field>
                        </div>

                        <div  fxFlex="20%">
                            <mat-form-field class="fullwidthinp">
                                <input matInput placeholder="Height" value="5.6" [disabled]="true">
                              </mat-form-field>
                        </div>
                        <div  fxFlex="20%">
                            <mat-form-field class="fullwidthinp">
                                <input matInput placeholder="Weight (Kgs.)" value="64" [disabled]="true">
                              </mat-form-field>
                        </div>
                        
                    </div>
                    
              </section>

              


              <section class="prescription">
                  <mat-tab-group>
                      <mat-tab>
                          <ng-template mat-tab-label>
                            <mat-icon>assignment_turned_in </mat-icon>
                            General Consultation
                          </ng-template>

                          <form [formGroup]="presciptionForm" (ngSubmit)="onSubmit(presciptionForm.value)">
                          <div class="container prescription_block" fxLayout="row" fxLayout.xs="column" fxLayoutWrap fxLayoutGap="1.5%" fxLayoutAlign="center" > 
                            <div fxFlex="55%">
                              

                                <mat-form-field class="fullwidthinp">
                                  <mat-select formControlName="symptomsMultiCtrl" placeholder="Signs And Symptoms" [multiple]="true" #multiSelect (selectionChange)="getDiseaseList($event)">
                                    <ngx-mat-select-search 
                                    formControlName="symptomsMultiFilterCtrl"
                                    [placeholderLabel]="'Search'" 
                                    [noEntriesFoundLabel]="'no records found'"
                                    ></ngx-mat-select-search>
                                    <mat-option *ngFor="let symptom of filteredSymptomMulti | async" [value]="symptom"  >
                                        {{symptom.name}}
                                    </mat-option>
                                </mat-select>
                                  </mat-form-field>

                                  <mat-form-field class="fullwidthinp">
                                    <mat-select formControlName="diagnosisMultiCtrl" placeholder="Diagnosis List" [multiple]="true" #multiSelect (selectionChange)="getMedicine($event)">
                                      <ngx-mat-select-search formControlName="diagnosisMultiFilterCtrl"
                                      [placeholderLabel]="'Search'" 
                                      [noEntriesFoundLabel]="'no records found'"
                                      ></ngx-mat-select-search>
                                      <mat-option *ngFor="let diagnosis of filteredDiagnosisMulti | async" [value]="diagnosis">
                                        {{diagnosis.name}}
                                      </mat-option>
                                    </mat-select>
                                  </mat-form-field>
                                
                               
                                <!--<ul *ngFor="let bank of bankMultiCtrl?.value">
                                  <li>{{bank.name}}</li>
                                </ul>-->

                                <h4 class="blockheading">Add Medicines</h4>  

                                  <div class="add_medicines">
                                      <table mat-table [dataSource]="transactions" style="width:100%;">


                                       
                                        
                                          <!-- Cost Description Column -->
                                          <ng-container matColumnDef="date" style="background:red;margin-right: 2px;">
                                            <th mat-header-cell *matHeaderCellDef> 
                                                <mat-form-field style="width: 90px;">
                                                    <input matInput [matDatepicker]="picker1" placeholder="Date" formControlName="date">
                                                    <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                                                    <mat-datepicker #picker1></mat-datepicker>
                                                  </mat-form-field>  
                                            </th>
                                          </ng-container>

                                           <!-- Cost Description Column -->
                                           <ng-container matColumnDef="medicine">
                                              <th mat-header-cell *matHeaderCellDef> 
                                                   
                                                 
                                                      <mat-select formControlName="medicineCtrl" placeholder="Medicine" #singleSelect style="width: 155px;">
                                                        <ngx-mat-select-search  formControlName="medicineFilterCtrl"></ngx-mat-select-search>
                                                        <mat-option *ngFor="let bank of filteredMedicines | async" [value]="bank">
                                                          {{bank.name}}
                                                        </mat-option>
                                                      </mat-select>

                                              </th>
                                            </ng-container>

                                            <ng-container matColumnDef="dosage">
                                              <th mat-header-cell *matHeaderCellDef> 
                                                   
                                                 
                                                <mat-form-field >
                                                  <input matInput placeholder="Dose" formControlName="daysCtrl"/>
                                                </mat-form-field>

                                              </th>
                                            </ng-container>

                                          <!-- Cost Description Column -->
                                          <ng-container matColumnDef="unit">
                                              <th mat-header-cell *matHeaderCellDef> 
                                                   
                                                <mat-select formControlName="instructionCtrl" placeholder="Instruction" #singleSelect style="width: 155px;">
                                                  <ngx-mat-select-search  formControlName="instructionFilterCtrl"
                                                  [placeholderLabel]="'Search'" 
                                                  [noEntriesFoundLabel]="'no records found'"
                                                  ></ngx-mat-select-search>
                                                  <mat-option *ngFor="let bank of filteredInstruction | async" [value]="bank">
                                                    {{bank.name}}
                                                  </mat-option>
                                                </mat-select>
                                                  
                                              </th>
                                          </ng-container>

                                             <!-- Cost Description Column -->
                                             <ng-container matColumnDef="days">
                                                <th mat-header-cell *matHeaderCellDef> 
                                                    <mat-form-field style="width:70%;">
                                                        <input matInput placeholder="Days" formControlName="daysCtrl"/>
                                                      </mat-form-field>  
                                                </th>
                                            </ng-container>


                                              <!-- Item Description Column -->
                                         <ng-container matColumnDef="action">
                                            <th mat-header-cell *matHeaderCellDef> 
                                                <button mat-mini-fab color="primary" (click)="addMedicine()"><mat-icon class="addicon">add_circle</mat-icon></button>
                                            </th>
                                          </ng-container>


                                       
                                        
                                          <!-- Cost Column -->
                                          <ng-container matColumnDef="datetd">
                                            <th mat-header-cell *matHeaderCellDef> Date </th>
                                            <td mat-cell *matCellDef="let transaction"> 08-10-2018</td>
                              
                                          </ng-container>

                                            <!-- Cost Column -->
                                            <ng-container matColumnDef="medicinetd">
                                                <th mat-header-cell *matHeaderCellDef> Medicine </th>
                                                <td mat-cell *matCellDef="let transaction"> Calpol </td>
                                               
                                              </ng-container>


                                                    <!-- Cost Column -->
                                            <ng-container matColumnDef="dosagetd" >
                                              <th mat-header-cell *matHeaderCellDef > Dosage </th>
                                              <td mat-cell *matCellDef="let transaction"> 2 Times </td>
                                          </ng-container>
                                        
                                                <!-- Cost Column -->
                                            <ng-container matColumnDef="unittd">
                                                <th mat-header-cell *matHeaderCellDef> Instruction </th>
                                                <td mat-cell *matCellDef="let transaction"> BD </td>
                                              
                                              </ng-container>

                                                  <!-- Cost Column -->
                                            <ng-container matColumnDef="daystd" >
                                                <th mat-header-cell *matHeaderCellDef > Days </th>
                                                <td mat-cell *matCellDef="let transaction"> 5 Days </td>
                                            </ng-container>
                                         
                                               <!-- Item Column -->
                                          <ng-container matColumnDef="actiontd">
                                              <th mat-header-cell *matHeaderCellDef> Action </th>
                                              <td mat-cell *matCellDef="let transaction">  </td>
                                            
                                            </ng-container>
                                        
                                        
                                          <!-- The table will render two header rows, one data row per data object, and two footer rows. -->
                                          <tr mat-header-row *matHeaderRowDef="displayedColumns"
                                              class="example-first-header-row">
                                          </tr>
                                          <tr mat-header-row *matHeaderRowDef="[ 'date', 'medicine', 'dosage', 'unit', 'days','action']"
                                              class="example-second-header-row">
                                          </tr>
                                        
                                          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                                        </table>
                                        
                                     
                                    
                                  </div>


                            </div>

                            <mat-divider [vertical]="true"></mat-divider>

                              <div fxFlex="40%">
                                <h4 class="blockheading">Add Investigations/Tests</h4>  

                                  <div class="patient_investigation">
                                      <table mat-table [dataSource]="transactions" style="width:100%;">


                                       
                                        
                                          <!-- Cost Description Column -->
                                          <ng-container matColumnDef="date">
                                            <th mat-header-cell *matHeaderCellDef> 
                                                <mat-form-field>
                                                    <input matInput [matDatepicker]="picker1" placeholder="Date" formControlName="date">
                                                    <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                                                    <mat-datepicker #picker1></mat-datepicker>
                                                  </mat-form-field>  
                                            </th>
                                          </ng-container>

                                           <!-- Cost Description Column -->
                                           <ng-container matColumnDef="reporthead">
                                              <th mat-header-cell *matHeaderCellDef> 
                                                <mat-select formControlName="reportsCtrl" placeholder="Reports" #singleSelect style="width: 155px;">
                                                  <ngx-mat-select-search  formControlName="reportsFilterCtrl"
                                                  [placeholderLabel]="'Search'" 
                                                  [noEntriesFoundLabel]="'no records found'"
                                                  ></ngx-mat-select-search>
                                                  <mat-option *ngFor="let bank of filteredReports | async" [value]="bank">
                                                    {{bank.name}}
                                                  </mat-option>
                                                </mat-select>
                                              </th>
                                            </ng-container>

                                         
                              

                                              <!-- Item Description Column -->
                                         <ng-container matColumnDef="action">
                                            <th mat-header-cell *matHeaderCellDef> 
                                                <button mat-mini-fab color="primary"><mat-icon class="addicon" >add_circle</mat-icon></button>
                                            </th>
                                          </ng-container>


                                       
                                        
                                          <!-- Cost Column -->
                                          <ng-container matColumnDef="datetd">
                                            <th mat-header-cell *matHeaderCellDef> Date </th>
                                            <td mat-cell *matCellDef="let transaction"> 08-10-2018</td>
                              
                                          </ng-container>

                                            <!-- Cost Column -->
                                            <ng-container matColumnDef="reportdtd">
                                                <th mat-header-cell *matHeaderCellDef> Report </th>
                                                <td mat-cell *matCellDef="let transaction"> Calpol </td>
                                               
                                              </ng-container>
                                        
                                          
                                               <!-- Item Column -->
                                          <ng-container matColumnDef="actiontd">
                                              <th mat-header-cell *matHeaderCellDef> Action </th>
                                              <td mat-cell *matCellDef="let transaction">  </td>
                                            
                                            </ng-container>
                                        
                                        
                                          <!-- The table will render two header rows, one data row per data object, and two footer rows. -->
                                          <tr mat-header-row *matHeaderRowDef="displayedColumnsReport"
                                              class="example-first-header-row">
                                          </tr>
                                          <tr mat-header-row *matHeaderRowDef="[ 'date', 'reporthead' , 'action']"
                                              class="example-second-header-row">
                                          </tr>
                                        
                                          <tr mat-row *matRowDef="let row; columns: displayedColumnsReport;"></tr>
                                        
                                      
                                     
                                        </table>
                                    
                                  </div>


                                <h4 class="blockheading">Report Upload</h4>  
                                
                                  <div class="upld_actionbtn">
                                    <button mat-stroked-button color="primary" style="margin-right:1%;">
                                      <mat-icon>attachment</mat-icon> Upload Files 
                                    </button>
                                    <button mat-stroked-button color="warn">View Report</button>
                                  </div>

                             
                                  <mat-form-field class="fullwidthinp">
                                    <textarea matInput placeholder="Final Summary" formControlName="finalsummryCtrl" ></textarea>
                                  </mat-form-field>

                                 
                                
                                  

                                  <div class="container infocontainer" fxLayout="row" fxLayout.xs="column" fxLayoutWrap fxLayoutGap="1.5%" fxLayoutAlign="center">
                                      <div fxFlex="30%">
                                          <mat-checkbox formControlName="sickCtrl">Sick</mat-checkbox>
                                      </div>
                                      <div fxFlex="70%">
                                          <mat-form-field>
                                              <input matInput placeholder="Days" formControlName="sickdaysCtrl" />
                                            </mat-form-field>
                                      </div>
                                    </div>

                                  
                                  <div class="container infocontainer" fxLayout="row" fxLayout.xs="column" fxLayoutWrap fxLayoutGap="1.5%" fxLayoutAlign="center">
                                    <div fxFlex="30%">
                                        <mat-checkbox formControlName="approvalCtrl" >Accident Approval </mat-checkbox>
                                    </div>
                                    <div fxFlex="70%">
                                      <mat-radio-group formControlName="admobservCtrl" >
                                            <mat-radio-button value="ADMIT" > Admit&nbsp;&nbsp; </mat-radio-button>
                                            <mat-radio-button value="OBSERVATION" > Observation&nbsp;&nbsp; </mat-radio-button>
                                      </mat-radio-group>
                                    </div>
                                  </div>


                              </div>
                          </div>
                          
                          <div class="container infocontainer" fxLayout="row" fxLayout.xs="column" fxLayoutWrap fxLayoutGap="1.5%" fxLayoutAlign="center">
                            <div fxFlex="80%"></div>
                            <div fxFlex="20%">
                              <button mat-flat-button color="warn" class="">+ New</button>
                              <button mat-flat-button color="primary" class="phrmcybtn" type="submit" >Send To Pharmacy</button>
                            </div>
                          </div>
                          
                        </form>
                      </mat-tab>

                      <mat-tab>
                          <ng-template mat-tab-label>
                            <mat-icon>face</mat-icon>
                            Pregnancy
                          </ng-template>
                          Content 2
                      </mat-tab>

                      <mat-tab>
                          <ng-template mat-tab-label>
                            <mat-icon>note_add</mat-icon>
                            Vaccination
                          </ng-template>
                          Content 3
                      </mat-tab>

                      
                    </mat-tab-group>
              </section>
  
                 
  
  
  
                </mat-card-content>
            </mat-card>
  
        </div><!--end of search container-->
      </div>


